<script>
    const freteiros = {
        27: "ACLEILSON - ANTONIO A.OLIVEIRA SILVA",
        212: "SEBASTIÃO",
        // Adicione outros freteiros conforme necessário
    };

    const motivos = {
        1: "CHAPA/REEMBOLSO",
        2: "DESCONTAR",
        // Adicione outros motivos conforme necessário
    };

    let total = 0;
    let contador = 1;

    document.getElementById('freteiroForm').addEventListener('submit', function (event) {
        event.preventDefault(); 

        const codMotorista = document.getElementById('codMotorista').value;
        const codMotivo = document.getElementById('codMotivo').value;
        const numeroNota = document.getElementById('numeroNota').value;
        const valor = parseFloat(document.getElementById('valor').value).toFixed(2);

        // Verifica se o motorista e motivo existem
        if (freteiros[codMotorista] && motivos[codMotivo]) {
            const tabela = document.getElementById('tabelaFreteiros').querySelector('tbody');
            const novaLinha = document.createElement('tr');

            // Adiciona os dados à tabela
            novaLinha.innerHTML = `
                <td>${contador}</td>
                <td>${codMotorista}</td>
                <td>${freteiros[codMotorista]}</td>
                <td>${codMotivo}</td>
                <td>${numeroNota}</td>
                <td>${motivos[codMotivo]}</td>
                <td>${valor}</td>
            `;

            tabela.appendChild(novaLinha);

            total = (parseFloat(total) + parseFloat(valor)).toFixed(2);
            document.getElementById('total').textContent = total;

            contador++;
        } else {
            // Se o código do motorista não existe, pergunta se deseja adicionar
            if (!freteiros[codMotorista]) {
                const nomeFreteiro = prompt(`Código de Motorista ${codMotorista} não encontrado. Deseja cadastrá-lo? Digite o nome:`);

                if (nomeFreteiro) {
                    freteiros[codMotorista] = nomeFreteiro;
                    alert(`Motorista ${nomeFreteiro} cadastrado com sucesso!`);
                }
            }

            // Se o código do motivo não existe, pergunta se deseja adicionar
            if (!motivos[codMotivo]) {
                const descricaoMotivo = prompt(`Código de Motivo ${codMotivo} não encontrado. Deseja cadastrá-lo? Digite a descrição:`);

                if (descricaoMotivo) {
                    motivos[codMotivo] = descricaoMotivo;
                    alert(`Motivo ${descricaoMotivo} cadastrado com sucesso!`);
                }
            }
        }

        // Reseta o formulário
        document.getElementById('freteiroForm').reset();
    });
</script>
